"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var blob=_interopRequireWildcard(require("blob-util")),_stringHash=_interopRequireDefault(require("string-hash")),_logger=_interopRequireDefault(require("./logger"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}for(var _=require("lodash"),Base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Base64Lookup=new Uint8Array(256),i=0;i<Base64Chars.length;i++)Base64Lookup[Base64Chars.charCodeAt(i)]=i;var utils={common:{isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isNumber:function(e){return"number"==typeof e},typeOf:function(e){var r=_typeof(e);if("object"===r){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return r;var t=Object.prototype.toString.call(e);if("[object Window]"===t)return"object";if("[object Array]"===t||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"===t||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"===r&&void 0===e.call)return"object";return r},isNull:function(e){return null==e},isDefAndNotNull:function(e){return null!=e},isArray:function(e){return"array"===utils.common.typeOf(e)},isArrayLike:function(e){var r=utils.common.typeOf(e);return"array"===r||"object"===r&&"number"==typeof e.length},isFunction:function(e){return"function"===utils.common.typeOf(e)},isObject:function(e){var r=_typeof(e);return"object"===r&&null!=e||"function"===r},string2ArrayBuffer:function(e){return blob.binaryStringToArrayBuffer(e)},trimString:function(e){return _.trim(e)},hashString:function(e){if(!utils.common.isString(e))return null;var r=utils.common.trimString(e);return 0===r.length?null:(0,_stringHash.default)(r)},clone:function(e){return _.cloneDeep(e)}},base64:{encodeBuffer:function(e){for(var r=new Uint8Array(e),t=r.length,n="",o=0;o<t;o+=3)n+=Base64Chars[r[o]>>2],n+=Base64Chars[(3&r[o])<<4|r[o+1]>>4],n+=Base64Chars[(15&r[o+1])<<2|r[o+2]>>6],n+=Base64Chars[63&r[o+2]];return t%3==2?n=n.substring(0,n.length-1)+"=":t%3==1&&(n=n.substring(0,n.length-2)+"=="),n},decodeBuffer:function(e){var r=.75*e.length,t=e.length;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);for(var n,o,i,u,a=new ArrayBuffer(r),f=new Uint8Array(a),l=0,s=0;l<t;l+=4)n=Base64Lookup[e.charCodeAt(l)],o=Base64Lookup[e.charCodeAt(l+1)],i=Base64Lookup[e.charCodeAt(l+2)],u=Base64Lookup[e.charCodeAt(l+3)],f[s++]=n<<2|o>>4,f[s++]=(15&o)<<4|i>>2,f[s++]=(3&i)<<6|63&u;return a}},devs:{state:{Passive:0},time:{Initial:0,Infinity:0x8000000000000000}}},_default=utils;exports.default=_default;